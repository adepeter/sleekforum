{% load static %}
{% load cache %}
{% load cores_util_tags %}
{% load thread_tags %}
{% load violations_threads_tags %}

{% cache 10 forum_sidebar %}
<!-- FORUM SIDEBAR -->
<div class="forum-sidebar grid-column">
    <!-- STATS DECORATION -->
    <div class="stats-decoration secondary">
        <!-- STATS DECORATION ICON WRAP -->
        <div class="stats-decoration-icon-wrap">
            <!-- STATS DECORATION ICON -->
            <svg class="stats-decoration-icon icon-overview">
                <use xlink:href="#svg-overview"></use>
            </svg>
            <!-- /STATS DECORATION ICON -->
        </div>
        <!-- /STATS DECORATION ICON WRAP -->

        <!-- STATS DECORATION TITLE -->
        <p class="stats-decoration-title">{{ thread | thread_viewers | length }}</p>
        <!-- /STATS DECORATION TITLE -->

        <!-- STATS DECORATION TEXT -->
        <p class="stats-decoration-text">Views</p>
        <!-- /STATS DECORATION TEXT -->
    </div>
    <!-- /STATS DECORATION -->

    <!-- STATS DECORATION -->
    <div class="stats-decoration primary">
        <!-- STATS DECORATION ICON WRAP -->
        <div class="stats-decoration-icon-wrap">
            <!-- STATS DECORATION ICON -->
            <svg class="stats-decoration-icon icon-members">
                <use xlink:href="#svg-members"></use>
            </svg>
            <!-- /STATS DECORATION ICON -->
        </div>
        <!-- /STATS DECORATION ICON WRAP -->

        <!-- STATS DECORATION TITLE -->
        <p class="stats-decoration-title">{{ thread.posts.count }}</p>
        <!-- /STATS DECORATION TITLE -->

        <!-- STATS DECORATION TEXT -->
        <p class="stats-decoration-text">Replies</p>
        <!-- /STATS DECORATION TEXT -->
    </div>
    <!-- /STATS DECORATION -->

    <!-- WIDGET BOX -->
    <div class="widget-box">
        <!-- WIDGET BOX CONTROLS -->
        <div class="widget-box-controls">
            <!-- SLIDER CONTROLS -->
            <div id="reaction-stat-slider-controls" class="slider-controls">
                <!-- SLIDER CONTROL -->
                <div class="slider-control left">
                    <!-- SLIDER CONTROL ICON -->
                    <svg class="slider-control-icon icon-small-arrow">
                        <use xlink:href="#svg-small-arrow"></use>
                    </svg>
                    <!-- /SLIDER CONTROL ICON -->
                </div>
                <!-- /SLIDER CONTROL -->

                <!-- SLIDER CONTROL -->
                <div class="slider-control right">
                    <!-- SLIDER CONTROL ICON -->
                    <svg class="slider-control-icon icon-small-arrow">
                        <use xlink:href="#svg-small-arrow"></use>
                    </svg>
                    <!-- /SLIDER CONTROL ICON -->
                </div>
                <!-- /SLIDER CONTROL -->
            </div>
            <!-- /SLIDER CONTROLS -->
        </div>
        <!-- /WIDGET BOX CONTROLS -->

        <!-- WIDGET BOX TITLE -->
        <p class="widget-box-title">Reactions Received</p>
        <!-- /WIDGET BOX TITLE -->

        <!-- WIDGET BOX CONTENT -->
        <div class="widget-box-content">
            <!-- WIDGET BOX CONTENT SLIDER -->
            <div id="reaction-stat-slider-items" class="widget-box-content-slider">
                <!-- WIDGET BOX CONTENT SLIDER ITEM -->
                <div class="widget-box-content-slider-item">
                    <!-- REACTION STATS -->
                    <div class="reaction-stats">
                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/like.png' %}"
                                 alt="reaction-like">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'LIKE' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Likes</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->

                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/love.png' %}"
                                 alt="reaction-love">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'LOVE' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Loves</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->
                    </div>
                    <!-- REACTION STATS -->

                    <!-- REACTION STATS -->
                    <div class="reaction-stats">
                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/dislike.png' %}"
                                 alt="reaction-dislike">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'DISLIKE' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Dislikes</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->

                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/happy.png' %}"
                                 alt="reaction-happy">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'HAPPY' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Happy</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->
                    </div>
                    <!-- REACTION STATS -->
                </div>
                <!-- /WIDGET BOX CONTENT SLIDER ITEM -->

                <!-- WIDGET BOX CONTENT SLIDER ITEM -->
                <div class="widget-box-content-slider-item">
                    <!-- REACTION STATS -->
                    <div class="reaction-stats">
                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/funny.png' %}"
                                 alt="reaction-funny">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'FUNNY' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Funny</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->

                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/wow.png' %}"
                                 alt="reaction-wow">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'WOW' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Wow!</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->
                    </div>
                    <!-- REACTION STATS -->

                    <!-- REACTION STATS -->
                    <div class="reaction-stats">
                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/angry.png' %}"
                                 alt="reaction-angry">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'ANGRY' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Angry</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->

                        <!-- REACTION STAT -->
                        <div class="reaction-stat">
                            <!-- REACTION STAT IMAGE -->
                            <img class="reaction-stat-image" src="{% static 'img/reaction/sad.png' %}"
                                 alt="reaction-sad">
                            <!-- /REACTION STAT IMAGE -->

                            <!-- REACTION STAT TITLE -->
                            <p class="reaction-stat-title">{{ thread | count_reactions:'SAD' }}</p>
                            <!-- /REACTION STAT TITLE -->

                            <!-- REACTION STAT TEXT -->
                            <p class="reaction-stat-text">Sad</p>
                            <!-- /REACTION STAT TEXT -->
                        </div>
                        <!-- /REACTION STAT -->
                    </div>
                    <!-- REACTION STATS -->
                </div>
                <!-- /WIDGET BOX CONTENT SLIDER ITEM -->
            </div>
            <!-- /WIDGET BOX CONTENT SLIDER -->
        </div>
        <!-- /WIDGET BOX CONTENT -->
    </div>
    <!-- /WIDGET BOX -->

    {% if thread.violations.all %}
    <!-- STATS BOX -->
    <div class="stats-box small stat-reactions-received">
        {% violations_in_thread thread as violation_result %}
        <!-- STATS BOX VALUE WRAP -->
        <div class="stats-box-value-wrap">
            <!-- STATS BOX VALUE -->
            <p class="stats-box-value">{{ violation_result | get_dictionary_value:'violations_in_thread' }}</p>
            <!-- /STATS BOX VALUE -->

            <!-- STATS BOX DIFF -->
            <div class="stats-box-diff">
                <!-- STATS BOX DIFF ICON -->
                <div class="stats-box-diff-icon negative">
                    <!-- ICON MINUS SMALL -->
                    <svg class="icon-minus-small">
                        <use xlink:href="#svg-minus-small"></use>
                    </svg>
                    <!-- /ICON MINUS SMALL -->
                </div>
                <!-- /STATS BOX DIFF ICON -->

                <!-- STATS BOX DIFF VALUE -->
                <p class="stats-box-diff-value">{{ violation_result | get_dictionary_value:'percentile' }}%</p>
                <!-- /STATS BOX DIFF VALUE -->
            </div>
            <!-- /STATS BOX DIFF -->
        </div>
        <!-- /STATS BOX VALUE WRAP -->

        <!-- STATS BOX TITLE -->
        <p class="stats-box-title">Total violations</p>
        <!-- /STATS BOX TITLE -->

        <!-- STATS BOX TEXT -->
        <p class="stats-box-text">Both thread and posts</p>
        <!-- /STATS BOX TEXT -->
    </div>
    <!-- /STATS BOX -->
    {% endif %}


</div>
<!-- /FORUM SIDEBAR -->
{% endcache %}

<script src="{% static 'js/vendor/tiny-slider.min.js' %}"></script>
<!-- chartJS -->
<script src="{% static 'js/vendor/Chart.bundle.min.js' %}"></script>